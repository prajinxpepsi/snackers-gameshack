<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Change Favicon</title>
    <!-- Default Favicon -->
    <link id="favicon" rel="icon" href="images/icons/default.ico">
</head>
<body>

    <select id="presetSelect">
        <option value="google">google</option>
        <option value="googleclassroom">google classroom</option>
        <option value="googledrive">google drive</option>
        <option value="chrometab">chrome new tab</option>
        <option value="gmail">gmail</option>
        <option value="bing">bing</option>
        <option value="desmos">desmos calculator</option>
        <option value="wikipedia">wikipedia</option>
    </select>

    <button id="saveButton">select cloak</button>
    <button id="resetButton">reset cloak</button>
    <p id="success" style="display: none;">success message here</p>

    <script>
        // Function to change favicon based on selected option
        function changeFavicon(icon) {
            let favicon = document.getElementById('favicon');
            const iconPath = `images/icons/${icon}.ico`;
            
            // Check if the icon path exists (simple check)
            const img = new Image();
            img.src = iconPath;
            img.onload = function() {
                favicon.href = iconPath;
            };
            img.onerror = function() {
                console.error(`Favicon not found: ${iconPath}`);
                favicon.href = 'images/icons/default.ico'; // Fall back to default if not found
            };
        }

        // Event listener for the save button to change favicon
        document.getElementById('saveButton').addEventListener('click', function() {
            const selectedValue = document.getElementById('presetSelect').value;
            changeFavicon(selectedValue);
            document.getElementById('success').style.display = 'block';
        });

        // Event listener for the reset button to reset the favicon
        document.getElementById('resetButton').addEventListener('click', function() {
            changeFavicon('google'); // Reset to default icon
            document.getElementById('success').style.display = 'none';
        });
    </script>

</body>
</html>
